---
name: classify
description: 变更分级判断。根据需求描述判断变更级别，并路由到对应技能。
---

# 变更分级判断（Classify）

本技能用于判断用户需求的变更级别，并路由到对应的处理流程。

---

## 变更级别

### L1 — Docs / Trivial Changes

满足以下**全部**条件：

- 仅修改文档或注释（README.md、docs/guide/**、*.md、代码注释）
- 不改变代码运行行为
- 不改变公共接口
- 不改变默认值或配置语义
- 不新增或修改依赖
- 不修改治理文档（docs/spec/、docs/tasks/、docs/changes/）

**处理方式：** 直接对话，无需技能

---

### L2 — Tiny / Controlled Changes

满足以下**任一**条件，且**不涉及** L3 触发条件：

- 小 bug 修复
- typo 修复
- 单文件逻辑修正
- 内部实现优化（不改变接口与语义）

**处理方式：** 使用 `/l2 <需求描述>`

---

### L3 — Feature / Behavior Changes

满足以下**任一**条件：

- 新功能开发
- 公共接口变更
- 默认值或配置语义变更
- 依赖变更
- 多模块改动
- 架构调整
- 安全 / 加密 / 账务相关变更

**处理方式：** 使用 `/l3 <需求描述>`

---

## 执行流程

1. **理解用户需求**
   - 阅读用户的需求描述
   - 识别关键要素（修改范围、影响面、复杂度）

2. **判断变更级别**
   - 逐一检查 L1 条件
   - 逐一检查 L3 触发条件
   - 若都不满足，则为 L2

3. **输出判断结果**
   - 说明判断的级别
   - 说明适用范围
   - 提示使用对应的技能

---

## 输出格式

### L1 输出

```
这是一个 L1 变更。

L1 变更无需使用技能，请直接描述你需要的修改。

L1 约束：
- 仅修改文档或注释
- 不改变代码运行行为
- 不改变公共接口
- 不改变默认值或配置语义
- 不新增或修改依赖
```

### L2 输出

```
这是一个 L2 变更。

适用范围：[简述范围，如：小 bug 修复、单文件逻辑修正等]

请使用 /l2 <需求描述> 继续流程。
```

### L3 输出

```
这是一个 L3 变更。

触发条件：[说明触发了哪些 L3 条件]

请使用 /l3 <需求描述> 继续流程。
```

---

## 判断示例

| 需求 | 级别 | 理由 |
|------|------|------|
| "修改 README.md 中的错别字" | L1 | 仅修改文档 |
| "修复 xxx 函数的 bug" | L2 | 单文件逻辑修正 |
| "新增一个 API 接口" | L3 | 新功能 + 接口变更 |
| "升级依赖版本" | L3 | 依赖变更 |
| "重构缓存模块" | L3 | 架构调整 |

---

## 注意事项

- 如果对级别判断不确定，倾向于更高级别（L2 → L3）
- 如果用户描述模糊，先澄清再判断
- L2 边界：如果发现超出 L2 边界，及时提示升级到 L3
